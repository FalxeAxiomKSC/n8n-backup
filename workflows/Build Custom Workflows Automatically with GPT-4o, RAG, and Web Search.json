{"createdAt":"2025-10-26T04:51:45.757Z","updatedAt":"2025-10-26T04:51:45.757Z","id":"tb9W7jQbZ5MK7LoE","name":"Build Custom Workflows Automatically with GPT-4o, RAG, and Web Search","active":false,"isArchived":false,"nodes":[{"parameters":{"options":{}},"id":"ee1c8a9a-e0fb-46d2-8274-140f5b297fba","name":"When chat message received","type":"@n8n/n8n-nodes-langchain.chatTrigger","position":[2000,1680],"webhookId":"4e30031a-81f0-4d4d-bc44-2347530b51e8","typeVersion":1.1},{"parameters":{"options":{"systemMessage":"# General Instruction\nYou are a helpful AI agents that outputs n8n agents / workflows in JSON format.\n\n# Input\nYou receive the user request what the agent should be able to accomplish.\n\n# Output\nThe Output must be a valid n8n template JSON\n\n# Workflow\nThink carefully how the agent the user requests can be build. Start by conceptualizing the architecture. It might be helpful to reflect in how a human team would tackle the task or go backwards (starting with the desired end state). Note that most workflows need an AI agent as its \"brain\". Consult your tools whenever beneficial. Once you thought of a meaningful structure actually populate the template with the nodes. Work very iterative and use the tools EXTENSIVELY! Fill the nodes with the correct content and CONNECT them properly! In a last check everything and make sure all nodes are properly connected! All but the trigger and final Output node must be connected to at least one input and one output node. Whenever you need information regarding what is possible in n8n, with what nodes and how they are set up and connected, consult the tools as you see it fit. \n\n# Tools\nYou have access to the following tools:\n1) Pinecone vector store containing some of n8n decumentation, saved in a Pinecone Vector database\n2) SerpAPI web search tool, with which you can search for example existing n8n workflows and templates or node characteristics (leverage this a lot!)\n\n# User node preferences (if not specified differently by the user use the following nodes for the listed functionalities):\nvector database: {{ $json['vector database'] }}\nchat model: {{ $json['chat model'] }}\nembeddings: {{ $json.embedding }}\nweb search tool: {{ $json['web search tool'] }}\n\n# Examples (variables are replaced with \"...\")\n--> output refers to the final result. still do not skip an elaborate step by step thinking process and extensive tool use!\n## example 1\n### input: automation flow is designed to automatically monitor incoming Gmail messages, analyze their content and context using AI, and intelligently classify them with appropriate labels for better email organization and prioritization\n\n### output: {\n  \"id\": \"uf6t5qhnQMgilteE\",\n  \"meta\": {\n    \"instanceId\": \"f694ebfb8236012bcdeb0adbc4faa465b6fa315f9ad30732114d26f7419da901\",\n    \"templateCredsSetupCompleted\": true\n  },\n  \"name\": \"Email Manager\",\n  \"tags\": [\n    {\n      \"id\": \"xG398zgKum2bPs6D\",\n      \"name\": \"Personal Assistant\",\n      \"createdAt\": \"2025-05-28T13:58:43.876Z\",\n      \"updatedAt\": \"2025-05-28T13:58:43.876Z\"\n    }\n  ],\n  \"nodes\": [\n    {\n      \"id\": \"5e01a927-caf7-41ad-aca7-d7504e313564\",\n      \"name\": \"Gmail Trigger\",\n      \"type\": \"n8n-nodes-base.gmailTrigger\",\n      \"position\": [\n        -20,\n        -60\n      ],\n      \"parameters\": {\n        \"filters\": {},\n        \"pollTimes\": {\n          \"item\": [\n            {\n              \"mode\": \"everyMinute\"\n            }\n          ]\n        }\n      },\n      \"credentials\": {\n        \"gmailOAuth2\": {\n          \"id\": \"Ldq2rjN6Dod5DoKl\",\n          \"name\": \"Gmail account\"\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"a8644856-a8bf-49de-84a7-3fd9f93550d3\",\n      \"name\": \"Gmail\",\n      \"type\": \"n8n-nodes-base.gmail\",\n      \"position\": [\n        200,\n        -20\n      ],\n      \"webhookId\": \"01c91a6b-4d45-4630-8e81-0f82ee5d6524\",\n      \"parameters\": {\n        \"simple\": false,\n        \"options\": {},\n        \"messageId\": \"=...\",\n        \"operation\": \"get\"\n      },\n      \"credentials\": {\n        \"gmailOAuth2\": {\n          \"id\": \"Ldq2rjN6Dod5DoKl\",\n          \"name\": \"Gmail account\"\n        }\n      },\n      \"typeVersion\": 2.1\n    },\n    {\n      \"id\": \"f6ddae9f-303b-46cd-980d-1d46fc4ecbec\",\n      \"name\": \"Structured Output Parser\",\n      \"type\": \"@n8n/n8n-nodes-langchain.outputParserStructured\",\n      \"position\": [\n        1000,\n        100\n      ],\n      \"parameters\": {\n        \"jsonSchemaExample\": \"{\\n\\t\\\"label\\\": \\\"Label name\\\", \\n\\\"label ID\\\": \\\"label ID\\\" \\n}\"\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"cc6b0990-a778-4199-a0fe-80c83dfb9934\",\n      \"name\": \"Gmail1\",\n      \"type\": \"n8n-nodes-base.gmail\",\n      \"position\": [\n        1020,\n        -220\n      ],\n      \"webhookId\": \"575a4038-3b07-46b9-be69-39cfc1d47d7e\",\n      \"parameters\": {\n        \"labelIds\": \"= ... \",\n        \"messageId\": \"=...\",\n        \"operation\": \"addLabels\"\n      },\n      \"credentials\": {\n        \"gmailOAuth2\": {\n          \"id\": \"Ldq2rjN6Dod5DoKl\",\n          \"name\": \"Gmail account\"\n        }\n      },\n      \"typeVersion\": 2.1\n    },\n    {\n      \"id\": \"f47e8e55-f634-417f-b62f-60e47af71827\",\n      \"name\": \"Anthropic Chat Model\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatAnthropic\",\n      \"position\": [\n        380,\n        160\n      ],\n      \"parameters\": {\n        \"model\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"claude-sonnet-4-20250514\",\n          \"cachedResultName\": \"Claude Sonnet 4\"\n        },\n        \"options\": {}\n      },\n      \"credentials\": {\n        \"anthropicApi\": {\n          \"id\": \"BVgmqTRcPinCIX4S\",\n          \"name\": \"Anthropic account 3\"\n        }\n      },\n      \"typeVersion\": 1.3\n    },\n    {\n      \"id\": \"b0ed86c7-5ddd-48dc-aa93-5c4d5c1cacf7\",\n      \"name\": \"AI Agent\",\n      \"type\": \"@n8n/n8n-nodes-langchain.agent\",\n      \"position\": [\n        500,\n        -140\n      ],\n      \"parameters\": {\n        \"text\": \"Run the task.\",\n        \"options\": {\n          \"systemMessage\": \"=**Objective:** Analyze the provided email data and classify it with the most appropriate label. **Utilize the capability to check for prior email history (emails sent to or received from the sender by `max@trigify.io`)** to determine if this is a first-time interaction (cold email) or part of an existing relationship. This context is crucial for accurate labeling, especially for distinguishing between Marketing, Notifications, and FYI. Respond with *only* the corresponding Label ID.\\n\\n**Your Email Address (for context):** `max@trigify.io`\\n\\n**Key Capabilities (to be used by the system executing this prompt):**\\n* **Check Prior Email History:** Before full classification, determine if any prior email correspondence exists between `max@trigify.io` and `...`. This check should yield \\\"Yes\\\" (history exists) or \\\"No\\\" (no history found).\\n\\n**Input Email Data (from n8n JSON item for the *current* email):**\\n* **Sender Email:** `...`\\n* **Sender Name:** `...`\\n* **Direct Recipient Emails (To):** `...`\\n* **CC Recipient Emails:** `...` *(Added this based on your JSON, use if populated)*\\n* **Subject:** `...`\\n* **Body (Plain Text):** `...`\\n* **Existing Gmail Labels (for current email):** `...`\\n* **Auto-Submitted Header:** `...`\\n* **Original Sender Header (if different from From):** `...`\\n* **In-Reply-To Header (for current email):** `...`\\n* **References Header (for current email):** `...`\\n* **List-Unsubscribe Header:** `...`\\n* **Precedence Header:** `...` (e.g., \\\"Bulk\\\")\\n\\n**Labels, Descriptions, and Prioritization Logic:**\\n\\n**Guidance on Using Prior Email History & Unsubscribe Links:**\\n* **Prior Email History = \\\"No\\\":** Strong indicator of a **cold/unsolicited email**.\\n    * If promotional/sales pitch: Likely \\\"Marketing.\\\"\\n    * If exceptionally personalized & high-value for Trigify: Rare \\\"To Respond.\\\"\\n* **Prior Email History = \\\"Yes\\\":** Indicates an **existing relationship/conversation**.\\n    * If it's an update on terms, policies, or service changes from this known entity: Likely \\\"Notification.\\\"\\n    * If it's a newsletter Max subscribed to: Could be \\\"FYI\\\" or \\\"Marketing\\\" based on content.\\n    * If it's a direct message requiring action: Likely \\\"To Respond.\\\"\\n* **`List-Unsubscribe` Header or Unsubscribe Links in Body:**\\n    * Common in \\\"Marketing\\\" emails.\\n    * Also present in many legitimate \\\"Notification\\\" emails (e.g., service updates, policy changes like the DPA example) and some \\\"FYI\\\" newsletters for compliance.\\n    * **Therefore, an unsubscribe link alone does not define the category. Consider it alongside Prior Email History and email content/purpose.**\\n* **`Precedence: Bulk` Header:** Often indicates mass mailings, common for Marketing, Notifications, and some FYIs.\\n\\n---\\n\\n* **To Respond (Label ID: `Label_5151750749488724401`):**\\n    * **Primary Criteria:** Requires direct, timely action/reply from `max@trigify.io`.\\n    * **Key Indicators (especially if Prior Email History = \\\"Yes\\\"):** Direct questions to Max, assigned tasks, requests for info for Trigify, deadlines for Max, part of an active conversation (indicated by `In-Reply-To`/`References`).\\n    * **Sales Process Prioritization (Warm Leads/Active Processes - typically Prior Email History = \\\"Yes\\\"):** Ongoing, active Trigify sales process discussions.\\n    * **High-Value Cold Outreach (Exceptional Cases - Prior Email History = \\\"No\\\"):** Highly personalized, strategic opportunity for Trigify requiring Max's personal attention. (Default for cold sales is \\\"Marketing\\\").\\n\\n* **FYI (Label ID: `Label_7518716752151077752`):**\\n    * **Primary Criteria:** For Max's awareness; no immediate action/reply required.\\n    * **Key Indicators:**\\n        * Max is CC'd, primary action for others.\\n        * General announcements, *non-promotional* newsletters from *known entities/subscriptions* (Prior Email History = \\\"Yes\\\" or sender is clearly a subscribed source) that aren't critical service notifications.\\n        * Informational updates within ongoing projects where Max isn't the primary actor.\\n    * If an email is a mass mailing (`Precedence: Bulk`, `List-Unsubscribe` present) from a *known entity* (Prior Email History = \\\"Yes\\\") and is purely informational without a direct call to action or critical service update, it could be \\\"FYI.\\\"\\n\\n* **Comment (Label ID: `Label_1470120230130814788`):**\\n    * Comment/feedback on a document, task, system (e.g., subject \\\"New comment on...\\\").\\n\\n* **Notification (Label ID: `Label_9`):**\\n    * **Primary Criteria:** Provides important, often non-promotional, updates or alerts regarding an existing service, account, or system that `max@trigify.io` or Trigify uses or is affected by. Action is typically awareness, potential configuration change, or noting a deadline, rather than a conversational reply.\\n    * **Key Indicators:**\\n        * **Updates from Known Service Providers (Prior Email History = \\\"Yes\\\" is common):**\\n            * Changes to Terms of Service, Privacy Policies, Data Processing Agreements (DPAs like the \\\"Plain\\\" example).\\n            * Critical service availability announcements (outages, maintenance).\\n            * Security alerts related to an account Max uses.\\n            * Important updates about features or functionality of a service Trigify relies on, which are not primarily marketing new features.\\n        * System-generated alerts (e.g., `Auto-Submitted Header` = `auto-generated`) like social media notifications, non-meeting calendar reminders, some financial transaction alerts.\\n        * Subject lines may contain: \\\"Important Update,\\\" \\\"Service Notification,\\\" \\\"Policy Change,\\\" \\\"DPA Update,\\\" \\\"Security Alert.\\\"\\n        * Even if a `List-Unsubscribe` link is present (for compliance), if the core content is a critical service/account/legal update from a company Max/Trigify does business with, it's a \\\"Notification.\\\"\\n        * The `Existing Gmail Labels` might include `CATEGORY_UPDATES`.\\n\\n* **Meeting Update (Label ID: `Label_7958083858424702466`):**\\n    * Update specifically regarding a scheduled meeting (e.g., \\\"Accepted:\\\", \\\"Declined:\\\", \\\"Updated Invitation:\\\", \\\"Cancelled:\\\").\\n\\n* **Marketing (Label ID: `Label_5274550748854913384`):**\\n    * **Primary Criteria:** Unsolicited promotional sales pitch, advertisement, or general marketing newsletter, especially if **Prior Email History = \\\"No.\\\"**\\n    * **Key Indicators:**\\n        * **No prior email history found with the `Sender Email`,** AND the email is primarily aimed at selling a product/service or promoting a company/event to Max/Trigify.\\n        * Content is generic, focused on features/benefits without strong personalization to Max's known, active projects.\\n        * Contains a `List-Unsubscribe Header` AND the content is promotional.\\n        * `Existing Gmail Labels` may include `CATEGORY_PROMOTIONS`.\\n    * If **Prior Email History = \\\"Yes\\\"**: Could still be \\\"Marketing\\\" if it's a clearly promotional newsletter/offer from a known contact that doesn't fit \\\"Notification\\\" or demand a \\\"To Respond.\\\"\\n\\n---\\n\\n**Email Data for Classification (Summary):**\\n* **Prior Email History with Sender (Yes/No) - From the new capability**\\n* Sender Email: `...`\\n* Sender Name: `...`\\n* Direct Recipient Emails (To): `...`\\n* CC Recipient Emails: `...`\\n* Subject: `...`\\n* Body (Plain Text): `...`\\n* Existing Gmail Labels: `...`\\n* Auto-Submitted Header: `...`\\n* Original Sender Header: `...`\\n* In-Reply-To Header: `...`\\n* References Header: `...`\\n* List-Unsubscribe Header: `...`\\n* Precedence Header: `...`\\n\\n**Output:** [Provide ONLY the Label ID here]\"\n        },\n        \"promptType\": \"define\",\n        \"hasOutputParser\": true\n      },\n      \"typeVersion\": 1.9\n    },\n    {\n      \"id\": \"f4bbdda0-dcd8-41a7-a870-69dfcb747a4f\",\n      \"name\": \"Get Email\",\n      \"type\": \"n8n-nodes-base.gmailTool\",\n      \"position\": [\n        760,\n        140\n      ],\n      \"webhookId\": \"c30886d9-3d98-464d-82b8-e7649c87610a\",\n      \"parameters\": {\n        \"filters\": {\n          \"q\": \"=from:...\"\n        },\n        \"operation\": \"getAll\",\n        \"returnAll\": \"=...\"\n      },\n      \"credentials\": {\n        \"gmailOAuth2\": {\n          \"id\": \"Kv7fHf3kWbBam6RH\",\n          \"name\": \"Gmail account 2\"\n        }\n      },\n      \"typeVersion\": 2.1\n    },\n    {\n      \"id\": \"64c3b465-d2be-43cc-ad41-cc1298038640\",\n      \"name\": \"Check Sent\",\n      \"type\": \"n8n-nodes-base.gmailTool\",\n      \"position\": [\n        560,\n        180\n      ],\n      \"webhookId\": \"0854fad3-622e-44b4-9d61-5aae13c61433\",\n      \"parameters\": {\n        \"filters\": {\n          \"q\": \"=...\",\n          \"labelIds\": [\n            \"SENT\"\n          ]\n        },\n        \"operation\": \"getAll\"\n      },\n      \"credentials\": {\n        \"gmailOAuth2\": {\n          \"id\": \"Ldq2rjN6Dod5DoKl\",\n          \"name\": \"Gmail account\"\n        }\n      },\n      \"typeVersion\": 2.1\n    }\n  ],\n  \"active\": true,\n  \"pinData\": {\n    \"Gmail Trigger\": [\n      {\n        \"json\": {\n          \"To\": \"max@trigify.io\",\n          \"id\": \"1971723eacc72f08\",\n          \"From\": \"Coresignal <info@coresignal.com>\",\n          \"labels\": [\n            {\n              \"id\": \"INBOX\",\n              \"name\": \"INBOX\"\n            },\n            {\n              \"id\": \"IMPORTANT\",\n              \"name\": \"IMPORTANT\"\n            },\n            {\n              \"id\": \"CATEGORY_PROMOTIONS\",\n              \"name\": \"CATEGORY_PROMOTIONS\"\n            }\n          ],\n          \"Subject\": \"New MCP server: Direct data access for smarter AI\",\n          \"payload\": {\n            \"mimeType\": \"multipart/alternative\"\n          },\n          \"snippet\": \"What&#39;s new Empower your AI agent with Coresignal&#39;s data We&#39;re excited to unveil our latest news, the Coresignal MCP server that connects your LLM tools directly to our company, employee,\",\n          \"threadId\": \"1971723eacc72f08\",\n          \"historyId\": \"5524551\",\n          \"internalDate\": \"1748439919000\",\n          \"sizeEstimate\": 62610\n        }\n      },\n      {\n        \"json\": {\n          \"Cc\": \"\",\n          \"To\": \"max@trigify.io\",\n          \"id\": \"1971723cfa14c3df\",\n          \"From\": \"Plain <hello@plain.com>\",\n          \"labels\": [\n            {\n              \"id\": \"INBOX\",\n              \"name\": \"INBOX\"\n            },\n            {\n              \"id\": \"IMPORTANT\",\n              \"name\": \"IMPORTANT\"\n            },\n            {\n              \"id\": \"CATEGORY_UPDATES\",\n              \"name\": \"CATEGORY_UPDATES\"\n            },\n            {\n              \"id\": \"UNREAD\",\n              \"name\": \"UNREAD\"\n            }\n          ],\n          \"Subject\": \" Important update to Plain’s Data Processing Agreement (DPA)\",\n          \"payload\": {\n            \"mimeType\": \"multipart/alternative\"\n          },\n          \"snippet\": \"Hi Max, We&#39;re writing to let you know about an upcoming change to our Data Processing Agreement (DPA). What&#39;s changing? We are simplifying our notification process for subprocessor updates.\",\n          \"threadId\": \"1971723cfa14c3df\",\n          \"historyId\": \"5524408\",\n          \"internalDate\": \"1748439911000\",\n          \"sizeEstimate\": 45077\n        }\n      }\n    ]\n  },\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"644d8154-7912-436a-8c05-e8e2f1092993\",\n  \"connections\": {\n    \"Gmail\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"AI Agent\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Gmail1\": {\n      \"main\": [\n        []\n      ]\n    },\n    \"AI Agent\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Gmail1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get Email\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"AI Agent\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Check Sent\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"AI Agent\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Gmail Trigger\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Gmail\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Anthropic Chat Model\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"AI Agent\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Structured Output Parser\": {\n      \"ai_outputParser\": [\n        [\n          {\n            \"node\": \"AI Agent\",\n            \"type\": \"ai_outputParser\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}\n\n\n## example 2: \n### input: Automate LinkedIn Posts with Claude AI, DALL-E Images & Google Sheets Approval\n\n### output: {\n  \"meta\": {\n    \"instanceId\": \"4e229722e6c43a4914d2d66178b48335adf795d73afbee5b0ea0c52938ef4d8e\"\n  },\n  \"nodes\": [\n    {\n      \"id\": \"2d694354-6ab0-42fd-abbf-d3085813fd49\",\n      \"name\": \"Idea Generator\",\n      \"type\": \"@n8n/n8n-nodes-langchain.agent\",\n      \"position\": [\n        1100,\n        200\n      ],\n      \"parameters\": {\n        \"text\": \"=Generate materials for my next LinkedIn post.\\n\\nHere are the ideas that we've already used: ....\\n\\nCome up with a new, super valuable and concrete post, and prepare all the needed materials for it:\\n- idea\\n- title\\n- text\\n- image description\\n\\nUse the least used bucket of content (out of my 4 buckets).\\n\\nBegin:\",\n        \"options\": {\n          \"systemMessage\": \"=ROLE: You're an expert in viral LinkedIn posts content creation with 10 years of experience. You've created viral posts that have gotten 10 billion views in total.\\n\\nOBJECTIVE: Your goal is to write a 1) name, 2) idea, 3) title, 4) text, and 5) image description for my next LinkedIn Post. They should be super valuable to my audience.\\n\\nSCENARIO: I run a LinkedIn blog about marketing and sales. My audience is marketers, salespeople, founders, B2B business owners, B2C business owners, brands. My goal is to help them build better brands with valuable, and practical content. \\nI have 4 main buckets of content on my page:\\n1) timeless principles. ideas for this videos are taken from timeless books: Influnece and Pre-Suasion by Robert Cialdini, $100M Leads and $100M Offers by Alex Hormozi, Ogilvy on Advertising.\\n2) case studies. for instance a case study breaking down on of the famous ads from the latest SuperBowl.\\n3) growth hacks. latest trends on how to grow with a proof. for instance an SEO tactic that became known in the last year.\\n4) contraversial ads. breakdowns of interesting and famous contraversial ads.\\nEvery video that I post is focused solely on one of the content buckets. That makes my content more diverse and covering more cool topics.\\n\\nEXPECTATION: Write me 1) name (short name for the post, less than 50 characters), 2) idea (detailed description in 3 sentences max), 3) title (the first sentence of the post, less than 80 characters, it should be ultra hooking), 4) full text of the post, 5) image description (the image is the first thing people will look at, so make it ultra hooking; write the image description to be super clear and ultra simple, so the AI image generator will precisely know that to generate; the image should be minimalistic) for a 200-300 words LinkedIn post from one of the content buckets described above.\\nMake sure to have great: hook, retention, and reward at the end.\\nThe post should clearly lead to a marketing/sales insight.\\nYour output should be in the JSON format.\\nIdea should always start with a category: Timeless principle, Case study, Growth hack, Contraversial ad.\\nExample output:\\n{\\\"name\\\": \\\"The Power of Social Proof\\\",\\n\\\"idea\\\": \\\"Timeless principle: Social proof is a psychological phenomenon that influences decision-making by showing how others' actions affect our own choices. It works universally across physical spaces and digital platforms. Marketers who strategically implement social proof elements can significantly increase conversion rates and customer trust.\\\",\\n\\\"title\\\": \\\"Why we can't resist looking up when others do (and what it means for sales)\\\",\\n\\\"text\\\": \\\"Why we can't resist looking up when others do (and what it means for sales)\\\\n\\\\nA psychology experiment once placed actors on a street corner to stare upward at nothing.\\\\n\\\\nWithin minutes, dozens of passersby stopped to look up too.\\\\n\\\\nThis is social proof in action—our natural tendency to follow others when uncertain.\\\\n\\\\nIn marketing, this same principle powers your conversion rates.\\\\n\\\\nNotice how differently you perceive:\\\\n\\\\n• A product with 5,000+ five-star reviews\\\\n• A service used by \\\\\\\"67% of Fortune 500 companies\\\\\\\"\\\\n• A landing page showing \\\\\\\"10,000+ satisfied customers\\\\\\\"\\\\n\\\\nCompared to identical offerings without these trust signals.\\\\n\\\\nBut here's what many marketers miss: social proof must feel authentic to work.\\\\n\\\\nGeneric testimonials or inflated numbers create skepticism, not confidence.\\\\n\\\\nThe most effective social proof strategies I've implemented for clients:\\\\n\\\\n1. Specificity: \\\\\\\"503 marketing agencies use our platform daily\\\\\\\" beats \\\\\\\"Hundreds of satisfied customers\\\\\\\"\\\\n\\\\n2. Relevance: Highlight testimonials from users who match your prospect's profile\\\\n\\\\n3. Recency: Fresh testimonials outperform older ones by 35% in our tests\\\\n\\\\n4. Visibility: Place social proof elements near decision points (like \\\\\\\"Buy Now\\\\\\\" buttons)\\\\n\\\\nImplement these four tactics, and you'll see the same psychological force that makes us look up at the sky work to increase your conversion rates.\\\\n\\\\nWhat's your most effective social proof strategy? Share below.\\\",\\n\\\"image\\\": \\\"Simple black background with grainy texture. Six basic stick figure silhouettes in white - five figures on the left all looking up, one figure on the right just starting to look up. Bold text in Inter Bold font at the center reads \\\\\\\"FOLLOW THE CROWD\\\\\\\" with \\\\\\\"FOLLOW\\\\\\\" in white and \\\\\\\"CROWD\\\\\\\" in light green (#cff150). No other elements or details. Clean, minimal design with plenty of empty space.\\\"}\\nNOTES:\\n- THE BACKGROUND OF THE IMAGE SHOULD ALWAYS BE BLACK AND DARK GRAINY FILM\\nTo accomplish your task you can use the web search.\"\n        },\n        \"promptType\": \"define\",\n        \"hasOutputParser\": true\n      },\n      \"retryOnFail\": true,\n      \"typeVersion\": 1.7\n    },\n    {\n      \"id\": \"991032b8-6839-4c5a-9df9-6e8e7a924c9e\",\n      \"name\": \"Sticky Note7\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        480,\n        100\n      ],\n      \"parameters\": {\n        \"color\": 6,\n        \"width\": 980,\n        \"height\": 480,\n        \"content\": \"# Generate a New Post Idea and All Materials\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"40294f91-5002-44a2-91e7-5bee74c30698\",\n      \"name\": \"Sticky Note8\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1480,\n        100\n      ],\n      \"parameters\": {\n        \"color\": 6,\n        \"width\": 1140,\n        \"height\": 480,\n        \"content\": \"# Generate an Image and Save\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"b3e2d972-f763-4fa5-88eb-bbb1afa7fc2d\",\n      \"name\": \"Structured Output Parser\",\n      \"type\": \"@n8n/n8n-nodes-langchain.outputParserStructured\",\n      \"position\": [\n        1300,\n        400\n      ],\n      \"parameters\": {\n        \"jsonSchemaExample\": \"{\\n\\t\\\"name\\\": \\\"name\\\",\\n    \\\"idea\\\": \\\"idea\\\",\\n    \\\"title\\\": \\\"title\\\",\\n    \\\"text\\\": \\\"text\\\",\\n    \\\"image\\\": \\\"image\\\"\\n}\"\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"77a4755a-0d64-4bce-b8a1-90b649d21039\",\n      \"name\": \"Anthropic Chat Model\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatAnthropic\",\n      \"position\": [\n        960,\n        400\n      ],\n      \"parameters\": {\n        \"model\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"claude-3-7-sonnet-20250219\",\n          \"cachedResultName\": \"Claude 3.7 Sonnet\"\n        },\n        \"options\": {}\n      },\n      \"typeVersion\": 1.3\n    },\n    {\n      \"id\": \"431ac158-ed33-4fdc-ae28-9a8fe1829f7e\",\n      \"name\": \"Perplexity Research\",\n      \"type\": \"@n8n/n8n-nodes-langchain.toolWorkflow\",\n      \"position\": [\n        1120,\n        400\n      ],\n      \"parameters\": {\n        \"name\": \"web_search\",\n        \"workflowId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"eALld0YaOZuUCU5q\",\n          \"cachedResultName\": \"Perplexity Research\"\n        },\n        \"description\": \"Call this tool to make a web search query using Perplexity AI. It will automatically look at multiple relevant websites and combine all the valuable information in one clean response.\",\n        \"workflowInputs\": {\n          \"value\": {},\n          \"schema\": [\n            {\n              \"id\": \"query\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"query\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            }\n          ],\n          \"mappingMode\": \"defineBelow\",\n          \"matchingColumns\": [\n            \"query\"\n          ],\n          \"attemptToConvertTypes\": false,\n          \"convertFieldsToString\": false\n        }\n      },\n      \"typeVersion\": 2.1\n    },\n    {\n      \"id\": \"9098aa0e-e707-4825-a848-50f8a3ad767d\",\n      \"name\": \"Convert to File\",\n      \"type\": \"n8n-nodes-base.convertToFile\",\n      \"position\": [\n        1960,\n        280\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"operation\": \"toBinary\",\n        \"sourceProperty\": \"data[0].b64_json\"\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"e7782adf-936a-47a5-8174-469e9d439b76\",\n      \"name\": \"Schedule\",\n      \"type\": \"n8n-nodes-base.scheduleTrigger\",\n      \"position\": [\n        560,\n        200\n      ],\n      \"parameters\": {\n        \"rule\": {\n          \"interval\": [\n            {\n              \"triggerAtHour\": 5\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"67704ef3-a0b3-4401-88aa-edc9b332c5fb\",\n      \"name\": \"Join Ideas\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        920,\n        200\n      ],\n      \"parameters\": {\n        \"jsCode\": \"// Get all incoming items\\nconst items = $input.all();\\n\\n// Extract the text field from each item\\nconst texts = items.map(item => item.json.idea);\\n\\n// Concatenate them (adjust the separator as needed)\\nconst concatenated = texts.join(\\\", \\\");\\n\\n// Return a single item with the concatenated text\\nreturn [{ json: { mergedText: concatenated } }];\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"766ba040-6217-460e-a285-7dd3fe612654\",\n      \"name\": \"Pick One\",\n      \"type\": \"n8n-nodes-base.limit\",\n      \"position\": [\n        920,\n        700\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"ab433d53-9946-4778-bb59-bf636388da03\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        480,\n        600\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"width\": 1340,\n        \"height\": 300,\n        \"content\": \"# Auto Posting\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"35b01ea3-8a91-4bdb-8b0b-e1e99f3c0482\",\n      \"name\": \"X\",\n      \"type\": \"n8n-nodes-base.twitter\",\n      \"disabled\": true,\n      \"position\": [\n        1140,\n        980\n      ],\n      \"parameters\": {\n        \"additionalFields\": {}\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"25628428-075e-449c-8585-fc33d9185522\",\n      \"name\": \"Prepare Data for Instagram API\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"disabled\": true,\n      \"position\": [\n        1400,\n        980\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"8a4260ba-3bde-4444-8f42-8a8abd51ff0c\",\n              \"name\": \"ImageURL\",\n              \"type\": \"string\",\n              \"value\": \"=...\"\n            },\n            {\n              \"id\": \"1953ae03-6a86-4847-8686-5a928637be1d\",\n              \"name\": \"Caption\",\n              \"type\": \"string\",\n              \"value\": \"=...\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"61af7e71-5470-44a1-a157-2c15311b9dff\",\n      \"name\": \"Create Instagram Media Container\",\n      \"type\": \"n8n-nodes-base.facebookGraphApi\",\n      \"disabled\": true,\n      \"position\": [\n        1580,\n        980\n      ],\n      \"parameters\": {\n        \"edge\": \"media\",\n        \"node\": \"17841473009917118\",\n        \"options\": {\n          \"queryParameters\": {\n            \"parameter\": [\n              {\n                \"name\": \"caption\",\n                \"value\": \"=...\"\n              },\n              {\n                \"name\": \"image_url\",\n                \"value\": \"=...\"\n              }\n            ]\n          }\n        },\n        \"graphApiVersion\": \"v22.0\",\n        \"httpRequestMethod\": \"POST\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"177e67d6-2783-4691-a90f-4b6fb398ab5e\",\n      \"name\": \"Wait for Container Processing\",\n      \"type\": \"n8n-nodes-base.wait\",\n      \"disabled\": true,\n      \"position\": [\n        1780,\n        980\n      ],\n      \"webhookId\": \"1b14c8bf-151a-4054-8215-093dd5b6cbcc\",\n      \"parameters\": {},\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"8ef68b10-af6c-4f05-91ae-43586098b051\",\n      \"name\": \"Publish Post to Instagram\",\n      \"type\": \"n8n-nodes-base.facebookGraphApi\",\n      \"disabled\": true,\n      \"position\": [\n        1980,\n        980\n      ],\n      \"parameters\": {\n        \"edge\": \"media_publish\",\n        \"node\": \"17841473009917118\",\n        \"options\": {\n          \"queryParameters\": {\n            \"parameter\": [\n              {\n                \"name\": \"creation_id\",\n                \"value\": \"=...\"\n              }\n            ]\n          }\n        },\n        \"graphApiVersion\": \"v22.0\",\n        \"httpRequestMethod\": \"POST\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"9702cd17-9bd3-429e-842e-56089b50d50b\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1080,\n        920\n      ],\n      \"parameters\": {\n        \"width\": 1120,\n        \"height\": 260,\n        \"content\": \"## Twitter & Instagram\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"8633b8e7-0119-4b60-a42e-362e26134772\",\n      \"name\": \"Sticky Note6\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -260,\n        100\n      ],\n      \"parameters\": {\n        \"width\": 720,\n        \"height\": 1800,\n        \"content\": \"# 🛠️ Setup Guide  \\n**Author:** [Usman Liaqat](https://www.linkedin.com/in/usmanliaqat404)\\n\\nThis guide will walk you through the 7 steps to fully configure your automation workflow using Google Sheets, Google Drive, Anthropic, OpenAI, Perplexity AI and LinkedIn.\\n\\n---\\n\\n## ✅ Step 1: Set Up Google Sheets Credential\\n1. In the n8n Google Sheets node create a new credential using your Google account\\n\\n---\\n\\n## ✅ Step 2: Set Up Google Drive Credential\\n1. Go to the [Google Cloud Console](https://console.cloud.google.com) and create or select a project\\n2. Enable the Google Drive API under APIs & Services > Library\\n3. Still in APIs & Services, select Credentials from the left menu\\n4. Click + CREATE CREDENTIALS > OAuth client ID\\n5. For Application type, choose Web application\\n6. Under Authorized redirect URIs, paste the OAuth Redirect URL: https://oauth.n8n.cloud/oauth2/callback\\n7. Click Create, then copy the Client ID and Client Secret shown in the modal\\n8. In the n8n Google Drive node click Create Credential\\n9. Paste in the Client ID and Client Secret from Google Cloud\\n10. Click Sign in with Google, complete the OAuth consent flow, then Save your credential\\n\\n---\\n\\n## ✅ Step 3: Set Up Anthropic Credential\\n1. Navigate to the [Anthropic Console](https://console.anthropic.com/) and sign in or sign up\\n2. Generate an API key\\n3. In the n8n \\\"Anthropic Chat Model\\\" node click Create Credential, past the API key and save\\n\\n---\\n\\n## ✅ Step 4: Configure OpenAI via HTTP Request Node\\n1. Visit the [OpenAI API Keys](https://platform.openai.com/account/api-keys) page and create a new secret key\\n2. In the n8n OpenAI Image node in the Authentication select Generic Credential Type\\n3. In Generic Auth Type select Header Auth\\n4. Create a new Header Auth, Name = Authorization, Value = Bearer YOUR_TOKEN\\n\\n---\\n\\n## ✅ Step 5: Configure Perplexity AI via HTTP Request Node\\n1. Go to the [Perplexity API Portal](https://www.perplexity.ai/account/api/keys) and click Create Key\\n2. Copy the generated API key\\n3. Inside n8n, in the sub-workflow, open the Perplexity Research node\\n4. In the Authentication select Generic Credential Type\\n5. In Generic Auth Type select Header Auth\\n6. Create a new Header Auth, Name = Authorization, Value = Bearer YOUR_TOKEN\\n\\n---\\n\\n## ✅ Step 6: Set Up LinkedIn Credential\\n1. In the n8n LinkedIn node create a new credential using your LinkedIn account\\n\\n---\\n\\n## ✅ Step 7: Customize The System For Your Use Case\\n1. In the Idea Generator node adjust the prompts to reflect your content style and your topics\\n2. Create a folder in your Google Drive where you will store all the images\\n3. Put in that folder the image with the style of your brand, that you want to replicate every time\\n4. Paste the shared link to this image in the \\\"Image Style\\\" node\\n5. In the OpenAI Image node adjust the prompt to reflect your image style\\n6. Copy my [Google Sheet](https://docs.google.com/spreadsheets/d/1-F3ZioIs3oWOKMyDPMuquaH-qiuaZs6qdZXP-yNeRbs/edit?usp=sharing)\\n7. Select your Google Sheet in the Google Sheets nodes\\n8. Activate the system, now every day a new post will be created inside the Google Sheet, and once you've reviewed it (might edit it as well), set the status to \\\"ready\\\" and it will be posted; the posting mechanism is set to work every day, one post at a time\\n\\n---\\n\\nNow you're ready to run your workflow. Happy automating!\\n\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"e853ea9d-5b19-4b7b-8dc4-110bcc481471\",\n      \"name\": \"OpenAI Image\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        1760,\n        280\n      ],\n      \"parameters\": {\n        \"url\": \"https://api.openai.com/v1/images/edits\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"sendBody\": true,\n        \"contentType\": \"multipart-form-data\",\n        \"authentication\": \"genericCredentialType\",\n        \"bodyParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"model\",\n              \"value\": \"gpt-image-1\"\n            },\n            {\n              \"name\": \"image\",\n              \"parameterType\": \"formBinaryData\",\n              \"inputDataFieldName\": \"data\"\n            },\n            {\n              \"name\": \"prompt\",\n              \"value\": \"=You're a professional graphic designer.\\n\\nMake a new image in the style very very similar to the reference.\\n\\nCopy the style, spacing, minimalistic structure, especially copy the FONTS, and everything else.\\n\\nUse black and dark grainy film (mainly for the background), white and salad green (#cff150).\\n\\nMake the image super aestetic and minimalistic.\\n\\nMake it vertical 3x4.\\n\\nIt will be an image for a LinkedIn post.\\n\\nHere is the description of the new image:\\n...\"\n            }\n          ]\n        },\n        \"genericAuthType\": \"httpHeaderAuth\"\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"2642278d-235c-46f0-994e-aa1ebec5ae64\",\n      \"name\": \"Image Style\",\n      \"type\": \"n8n-nodes-base.googleDrive\",\n      \"position\": [\n        1540,\n        280\n      ],\n      \"parameters\": {\n        \"fileId\": {\n          \"__rl\": true,\n          \"mode\": \"url\",\n          \"value\": \"=https://drive.google.com/file/d/1wm4anhC6ygXl4ZJAjJryWfEXTG-VeH8s/view?usp=sharing\"\n        },\n        \"options\": {},\n        \"operation\": \"download\"\n      },\n      \"typeVersion\": 3\n    },\n    {\n      \"id\": \"31218124-74e6-4117-bd76-125545aaf969\",\n      \"name\": \"Get Past Ideas\",\n      \"type\": \"n8n-nodes-base.googleSheets\",\n      \"position\": [\n        740,\n        200\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"sheetName\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"gid=0\",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1-F3ZioIs3oWOKMyDPMuquaH-qiuaZs6qdZXP-yNeRbs/edit#gid=0\",\n          \"cachedResultName\": \"Posts\"\n        },\n        \"documentId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"1-F3ZioIs3oWOKMyDPMuquaH-qiuaZs6qdZXP-yNeRbs\",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1-F3ZioIs3oWOKMyDPMuquaH-qiuaZs6qdZXP-yNeRbs/edit?usp=drivesdk\",\n          \"cachedResultName\": \"AI Posts Content Machine\"\n        }\n      },\n      \"typeVersion\": 4.5,\n      \"alwaysOutputData\": true\n    },\n    {\n      \"id\": \"b4776d32-d742-42d8-8454-048ccadc8ecd\",\n      \"name\": \"Save Image\",\n      \"type\": \"n8n-nodes-base.googleDrive\",\n      \"position\": [\n        2180,\n        280\n      ],\n      \"parameters\": {\n        \"name\": \"=...\",\n        \"driveId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"My Drive\"\n        },\n        \"options\": {},\n        \"folderId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"1PZW0Hef8yKwKtBZuRxZAMkakzdyyP0iZ\",\n          \"cachedResultUrl\": \"https://drive.google.com/drive/folders/1PZW0Hef8yKwKtBZuRxZAMkakzdyyP0iZ\",\n          \"cachedResultName\": \"AI Posts Content Machine\"\n        }\n      },\n      \"typeVersion\": 3\n    },\n    {\n      \"id\": \"c6a71846-4538-4204-9ddc-f5c0fb18ac1a\",\n      \"name\": \"Save Post\",\n      \"type\": \"n8n-nodes-base.googleSheets\",\n      \"position\": [\n        2380,\n        280\n      ],\n      \"parameters\": {\n        \"columns\": {\n          \"value\": {\n            \"idea\": \"=...\",\n            \"name\": \"=...\",\n            \"text\": \"=...\",\n            \"image\": \"=...\",\n            \"status\": \"review\"\n          },\n          \"schema\": [\n            {\n              \"id\": \"name\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"name\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"idea\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"idea\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"text\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"text\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"image\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"image\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"status\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"status\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            }\n          ],\n          \"mappingMode\": \"defineBelow\",\n          \"matchingColumns\": [],\n          \"attemptToConvertTypes\": false,\n          \"convertFieldsToString\": false\n        },\n        \"options\": {},\n        \"operation\": \"append\",\n        \"sheetName\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"gid=0\",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1-F3ZioIs3oWOKMyDPMuquaH-qiuaZs6qdZXP-yNeRbs/edit#gid=0\",\n          \"cachedResultName\": \"Posts\"\n        },\n        \"documentId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"1-F3ZioIs3oWOKMyDPMuquaH-qiuaZs6qdZXP-yNeRbs\",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1-F3ZioIs3oWOKMyDPMuquaH-qiuaZs6qdZXP-yNeRbs/edit?usp=drivesdk\",\n          \"cachedResultName\": \"AI Posts Content Machine\"\n        }\n      },\n      \"typeVersion\": 4.5\n    },\n    {\n      \"id\": \"7b8e2c00-2c14-4bb7-acee-0181990e9434\",\n      \"name\": \"Schedule 2\",\n      \"type\": \"n8n-nodes-base.scheduleTrigger\",\n      \"position\": [\n        560,\n        700\n      ],\n      \"parameters\": {\n        \"rule\": {\n          \"interval\": [\n            {\n              \"triggerAtHour\": 16\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"66c0ae82-6ba3-4fa0-8033-3726796cdc0a\",\n      \"name\": \"Get Ready Posts\",\n      \"type\": \"n8n-nodes-base.googleSheets\",\n      \"position\": [\n        740,\n        700\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"filtersUI\": {\n          \"values\": [\n            {\n              \"lookupValue\": \"ready\",\n              \"lookupColumn\": \"status\"\n            }\n          ]\n        },\n        \"sheetName\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"gid=0\",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1-F3ZioIs3oWOKMyDPMuquaH-qiuaZs6qdZXP-yNeRbs/edit#gid=0\",\n          \"cachedResultName\": \"Posts\"\n        },\n        \"documentId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"1-F3ZioIs3oWOKMyDPMuquaH-qiuaZs6qdZXP-yNeRbs\",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1-F3ZioIs3oWOKMyDPMuquaH-qiuaZs6qdZXP-yNeRbs/edit?usp=drivesdk\",\n          \"cachedResultName\": \"AI Posts Content Machine\"\n        }\n      },\n      \"typeVersion\": 4.5\n    },\n    {\n      \"id\": \"7ee9c81f-00ca-4f89-95bb-61d224b06a2e\",\n      \"name\": \"Download Image\",\n      \"type\": \"n8n-nodes-base.googleDrive\",\n      \"position\": [\n        1120,\n        700\n      ],\n      \"parameters\": {\n        \"fileId\": {\n          \"__rl\": true,\n          \"mode\": \"url\",\n          \"value\": \"=...\"\n        },\n        \"options\": {},\n        \"operation\": \"download\"\n      },\n      \"typeVersion\": 3\n    },\n    {\n      \"id\": \"94fbbd95-fe52-4eda-ac78-2201ff72fe50\",\n      \"name\": \"Publish Post\",\n      \"type\": \"n8n-nodes-base.linkedIn\",\n      \"position\": [\n        1320,\n        700\n      ],\n      \"parameters\": {\n        \"text\": \"=...\",\n        \"person\": \"-NknGiXASA\",\n        \"additionalFields\": {},\n        \"shareMediaCategory\": \"IMAGE\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"0893a7f2-490b-49f1-96cb-56090cb59c10\",\n      \"name\": \"Update Status\",\n      \"type\": \"n8n-nodes-base.googleSheets\",\n      \"position\": [\n        1520,\n        700\n      ],\n      \"parameters\": {\n        \"columns\": {\n          \"value\": {\n            \"name\": \"=...\",\n            \"status\": \"posted\"\n          },\n          \"schema\": [\n            {\n              \"id\": \"name\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"name\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"idea\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": true,\n              \"required\": false,\n              \"displayName\": \"idea\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"text\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": true,\n              \"required\": false,\n              \"displayName\": \"text\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"image\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": true,\n              \"required\": false,\n              \"displayName\": \"image\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"status\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"status\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"row_number\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": true,\n              \"readOnly\": true,\n              \"required\": false,\n              \"displayName\": \"row_number\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            }\n          ],\n          \"mappingMode\": \"defineBelow\",\n          \"matchingColumns\": [\n            \"name\"\n          ],\n          \"attemptToConvertTypes\": false,\n          \"convertFieldsToString\": false\n        },\n        \"options\": {},\n        \"operation\": \"update\",\n        \"sheetName\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"gid=0\",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1-F3ZioIs3oWOKMyDPMuquaH-qiuaZs6qdZXP-yNeRbs/edit#gid=0\",\n          \"cachedResultName\": \"Posts\"\n        },\n        \"documentId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"1-F3ZioIs3oWOKMyDPMuquaH-qiuaZs6qdZXP-yNeRbs\",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1-F3ZioIs3oWOKMyDPMuquaH-qiuaZs6qdZXP-yNeRbs/edit?usp=drivesdk\",\n          \"cachedResultName\": \"AI Posts Content Machine\"\n        }\n      },\n      \"typeVersion\": 4.5\n    }\n  ],\n  \"pinData\": {},\n  \"connections\": {\n    \"Pick One\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Download Image\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Schedule\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get Past Ideas\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Join Ideas\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Idea Generator\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Save Image\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Save Post\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Schedule 2\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get Ready Posts\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Image Style\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"OpenAI Image\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"OpenAI Image\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Convert to File\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Publish Post\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Update Status\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Download Image\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Publish Post\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get Past Ideas\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Join Ideas\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Idea Generator\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Image Style\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Convert to File\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Save Image\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get Ready Posts\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Pick One\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Perplexity Research\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"Idea Generator\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Anthropic Chat Model\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"Idea Generator\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Structured Output Parser\": {\n      \"ai_outputParser\": [\n        [\n          {\n            \"node\": \"Idea Generator\",\n            \"type\": \"ai_outputParser\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Wait for Container Processing\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Publish Post to Instagram\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Prepare Data for Instagram API\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Create Instagram Media Container\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Create Instagram Media Container\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Wait for Container Processing\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}\n\n\n## example 2: \n### input: GPT 4o Agent with SerpAPI Websearch and Memory\n### output: {\n  \"id\": \"ai-agent-gpt4o-serpapi-manual\",\n  \"name\": \"GPT-4o Agent with SerpAPI & Memory (Manual Trigger)\",\n  \"nodes\": [\n  {\n  \"id\": \"dba53fd3-6bf0-46c9-9659-286f643fd6d1\",\n  \"name\": \"Manual Trigger\",\n  \"type\": \"n8n-nodes-base.manualTrigger\",\n  \"position\": [\n  -420,\n  -40\n  ],\n  \"parameters\": {},\n  \"typeVersion\": 1\n  },\n  {\n  \"id\": \"dd16c4ff-c7d4-45fc-b75a-29bdb6dcc0c2\",\n  \"name\": \"Window Buffer Memory\",\n  \"type\": \"@n8n/n8n-nodes-langchain.memoryBufferWindow\",\n  \"position\": [\n  -140,\n  -40\n  ],\n  \"parameters\": {},\n  \"typeVersion\": 1.3\n  },\n  {\n  \"id\": \"32a1cc05-dab8-4be1-bd6a-8396fbe0df0e\",\n  \"name\": \"GPT-4o Chat Model\",\n  \"type\": \"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\n  \"position\": [\n  -140,\n  -220\n  ],\n  \"parameters\": {\n  \"model\": {\n  \"__rl\": true,\n  \"mode\": \"list\",\n  \"value\": \"gpt-4o\",\n  \"cachedResultName\": \"gpt-4o\"\n  },\n  \"options\": {}\n  },\n  \"credentials\": {\n  \"openAiApi\": {\n  \"id\": \"<OPENROUTER_CREDENTIAL_ID>\",\n  \"name\": \"OpenRouter API Key\"\n  }\n  },\n  \"typeVersion\": 1.2\n  },\n  {\n  \"id\": \"ea7379d9-b6dd-49ff-ac01-2d9c608f7c11\",\n  \"name\": \"SerpAPI\",\n  \"type\": \"@n8n/n8n-nodes-langchain.toolSerpApi\",\n  \"position\": [\n  -140,\n  140\n  ],\n  \"parameters\": {\n  \"options\": {}\n  },\n  \"credentials\": {\n  \"serpApi\": {\n  \"id\": \"<SERPAPI_CREDENTIAL_ID>\",\n  \"name\": \"SerpAPI Key\"\n  }\n  },\n  \"typeVersion\": 1\n  },\n  {\n  \"id\": \"10a3f41d-4f1a-4efa-92b3-7adb3f98f604\",\n  \"name\": \"AI Agent\",\n  \"type\": \"@n8n/n8n-nodes-langchain.agent\",\n  \"position\": [\n  160,\n  -40\n  ],\n  \"parameters\": {\n  \"text\": \"=Respond to the user’s request given in the trigger item.\",\n  \"options\": {\n  \"systemMessage\": \"You are an AI assistant that can perform web searches with SerpAPI when helpful.\"\n  },\n  \"promptType\": \"define\"\n  },\n  \"typeVersion\": 1.7\n  },\n  {\n  \"id\": \"f8b0c3ae-8423-4db9-a287-3e3c640ef0bb\",\n  \"name\": \"Set Response\",\n  \"type\": \"n8n-nodes-base.set\",\n  \"position\": [\n  400,\n  -40\n  ],\n  \"parameters\": {\n  \"assignments\": {\n  \"assignments\": [\n  {\n  \"id\": \"acb7e4d0-f718-4eae-8f50-0ca15c5c68e2\",\n  \"name\": \"answer\",\n  \"type\": \"string\",\n  \"value\": \"={{ $json.output }}\"\n  }\n  ]\n  },\n  \"options\": {}\n  },\n  \"typeVersion\": 3.4\n  }\n  ],\n  \"connections\": {\n  \"Manual Trigger\": {\n  \"main\": [\n  [\n  {\n  \"node\": \"Window Buffer Memory\",\n  \"type\": \"main\",\n  \"index\": 0\n  }\n  ]\n  ]\n  },\n  \"Window Buffer Memory\": {\n  \"main\": [\n  [\n  {\n  \"node\": \"AI Agent\",\n  \"type\": \"main\",\n  \"index\": 0\n  }\n  ]\n  ],\n  \"ai_memory\": [\n  [\n  {\n  \"node\": \"AI Agent\",\n  \"type\": \"ai_memory\",\n  \"index\": 0\n  }\n  ]\n  ]\n  },\n  \"GPT-4o Chat Model\": {\n  \"ai_languageModel\": [\n  [\n  {\n  \"node\": \"AI Agent\",\n  \"type\": \"ai_languageModel\",\n  \"index\": 0\n  }\n  ]\n  ]\n  },\n  \"SerpAPI\": {\n  \"ai_tool\": [\n  [\n  {\n  \"node\": \"AI Agent\",\n  \"type\": \"ai_tool\",\n  \"index\": 0\n  }\n  ]\n  ]\n  },\n  \"AI Agent\": {\n  \"main\": [\n  [\n  {\n  \"node\": \"Set Response\",\n  \"type\": \"main\",\n  \"index\": 0\n  }\n  ]\n  ]\n  }\n  },\n  \"active\": true,\n  \"settings\": {\n  \"executionOrder\": \"v1\"\n  }\n  }\n\n\n\n# User request: \n"}},"id":"243ba102-72bf-441a-b247-d784b3b054bd","name":"AI Agent","type":"@n8n/n8n-nodes-langchain.agent","position":[2400,1680],"retryOnFail":true,"typeVersion":1.9,"alwaysOutputData":false,"onError":"continueRegularOutput"},{"parameters":{"options":{}},"id":"e36992ff-fa9c-469c-a669-267bcdccae99","name":"Embeddings OpenAI2","type":"@n8n/n8n-nodes-langchain.embeddingsOpenAi","position":[2192,1072],"typeVersion":1.2},{"parameters":{"options":{}},"id":"5e709878-fc9d-4ed3-bfbb-b019f9c287db","name":"Default Data Loader1","type":"@n8n/n8n-nodes-langchain.documentDefaultDataLoader","position":[2320,1072],"typeVersion":1},{"parameters":{},"id":"f70e1fe1-618f-45c8-8379-f4742effb93b","name":"When clicking ‘Test workflow’","type":"n8n-nodes-base.manualTrigger","position":[2000,384],"typeVersion":1},{"parameters":{"url":"={{ $json.URL }}","options":{}},"id":"b34a7b23-f5b9-4046-9c92-a663698c0e92","name":"Extract","type":"n8n-nodes-base.httpRequest","position":[2432,384],"typeVersion":4.2},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"38c5347f-4336-4ab5-9f9f-47ba09a0b64c","leftValue":"","rightValue":"","operator":{"type":"string","operation":"equals","name":"filter.operator.equals"}}],"combinator":"and"},"options":{}},"id":"ea2a97ef-f2bb-4934-a040-7fa96b918101","name":"If","type":"n8n-nodes-base.if","position":[3072,384],"typeVersion":2.2,"onError":"continueErrorOutput"},{"parameters":{"options":{}},"id":"a34dea8f-fb4f-4c94-834d-eb5948cc7286","name":"Get Results","type":"n8n-nodes-base.httpRequest","position":[2880,384],"typeVersion":4.2},{"parameters":{},"id":"63cd8437-92c9-4a33-aabf-3238b7b4a919","name":"30 Secs","type":"n8n-nodes-base.wait","position":[2656,384],"webhookId":"e4866198-b806-4746-b57f-97333c497dbf","typeVersion":1.1},{"parameters":{},"id":"c6830132-8d74-4209-9d41-6c42c1fb7e66","name":"10 Seconds","type":"n8n-nodes-base.wait","position":[3200,192],"webhookId":"6cc8c637-bafb-4d64-9cd4-8ae2a9f5b7ca","typeVersion":1.1},{"parameters":{"options":{}},"id":"95161389-9ea0-484b-abdf-82a8a0479b9a","name":"SerpAPI","type":"@n8n/n8n-nodes-langchain.toolSerpApi","position":[2336,2032],"typeVersion":1},{"parameters":{"mode":"retrieve-as-tool","toolName":"n8n_documentation","toolDescription":"This vectorstore contains some of n8n's technical documentations.","pineconeIndex":{"__rl":true,"mode":"list","value":"agentbuilder","cachedResultName":"agentbuilder"},"options":{}},"id":"da8d5a8a-c641-453f-a7bb-817099e8592f","name":"Pinecone Vector Store","type":"@n8n/n8n-nodes-langchain.vectorStorePinecone","position":[2448,2032],"typeVersion":1.1},{"parameters":{"mode":"insert","pineconeIndex":{"__rl":true,"mode":"list","value":"agentbuilder","cachedResultName":"agentbuilder"},"options":{}},"id":"0838fd0e-8e1b-4c37-8c31-8ab9306fff89","name":"Train Pinecone Vector Store","type":"@n8n/n8n-nodes-langchain.vectorStorePinecone","position":[2192,912],"typeVersion":1.1},{"parameters":{"options":{}},"id":"b4bca1b1-80bc-42fa-b434-00eabd926aff","name":"OpenRouter Chat Model","type":"@n8n/n8n-nodes-langchain.lmChatOpenRouter","position":[2208,2032],"typeVersion":1},{"parameters":{"options":{}},"id":"e9f693e5-4733-4987-a7a8-7f6b7823b221","name":"Embeddings OpenAI","type":"@n8n/n8n-nodes-langchain.embeddingsOpenAi","position":[2480,2160],"typeVersion":1.2},{"parameters":{"modelId":{"__rl":true,"mode":"list","value":"o4-mini-2025-04-16","cachedResultName":"O4-MINI-2025-04-16"},"messages":{"values":[{"content":"Transform the input into valid n8n template JSON format. make sure all nodes are correctly set up and CONNECTED!\n\nmake especially sure the AI agent(s) are correctly set up and connected. here is an example:\n\n{\n  \"id\": \"ai-agent-gpt4o-serpapi-manual\",\n  \"name\": \"GPT-4o Agent with SerpAPI & Memory (Manual Trigger)\",\n  \"nodes\": [\n  {\n  \"id\": \"dba53fd3-6bf0-46c9-9659-286f643fd6d1\",\n  \"name\": \"Manual Trigger\",\n  \"type\": \"n8n-nodes-base.manualTrigger\",\n  \"position\": [\n  -420,\n  -40\n  ],\n  \"parameters\": {},\n  \"typeVersion\": 1\n  },\n  {\n  \"id\": \"dd16c4ff-c7d4-45fc-b75a-29bdb6dcc0c2\",\n  \"name\": \"Window Buffer Memory\",\n  \"type\": \"@n8n/n8n-nodes-langchain.memoryBufferWindow\",\n  \"position\": [\n  -140,\n  -40\n  ],\n  \"parameters\": {},\n  \"typeVersion\": 1.3\n  },\n  {\n  \"id\": \"32a1cc05-dab8-4be1-bd6a-8396fbe0df0e\",\n  \"name\": \"GPT-4o Chat Model\",\n  \"type\": \"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\n  \"position\": [\n  -140,\n  -220\n  ],\n  \"parameters\": {\n  \"model\": {\n  \"__rl\": true,\n  \"mode\": \"list\",\n  \"value\": \"gpt-4o\",\n  \"cachedResultName\": \"gpt-4o\"\n  },\n  \"options\": {}\n  },\n  \"credentials\": {\n  \"openAiApi\": {\n  \"id\": \"<OPENROUTER_CREDENTIAL_ID>\",\n  \"name\": \"OpenRouter API Key\"\n  }\n  },\n  \"typeVersion\": 1.2\n  },\n  {\n  \"id\": \"ea7379d9-b6dd-49ff-ac01-2d9c608f7c11\",\n  \"name\": \"SerpAPI\",\n  \"type\": \"@n8n/n8n-nodes-langchain.toolSerpApi\",\n  \"position\": [\n  -140,\n  140\n  ],\n  \"parameters\": {\n  \"options\": {}\n  },\n  \"credentials\": {\n  \"serpApi\": {\n  \"id\": \"<SERPAPI_CREDENTIAL_ID>\",\n  \"name\": \"SerpAPI Key\"\n  }\n  },\n  \"typeVersion\": 1\n  },\n  {\n  \"id\": \"10a3f41d-4f1a-4efa-92b3-7adb3f98f604\",\n  \"name\": \"AI Agent\",\n  \"type\": \"@n8n/n8n-nodes-langchain.agent\",\n  \"position\": [\n  160,\n  -40\n  ],\n  \"parameters\": {\n  \"text\": \"=Respond to the user’s request given in the trigger item.\",\n  \"options\": {\n  \"systemMessage\": \"You are an AI assistant that can perform web searches with SerpAPI when helpful.\"\n  },\n  \"promptType\": \"define\"\n  },\n  \"typeVersion\": 1.7\n  },\n  {\n  \"id\": \"f8b0c3ae-8423-4db9-a287-3e3c640ef0bb\",\n  \"name\": \"Set Response\",\n  \"type\": \"n8n-nodes-base.set\",\n  \"position\": [\n  400,\n  -40\n  ],\n  \"parameters\": {\n  \"assignments\": {\n  \"assignments\": [\n  {\n  \"id\": \"acb7e4d0-f718-4eae-8f50-0ca15c5c68e2\",\n  \"name\": \"answer\",\n  \"type\": \"string\",\n  \"value\": \"={{ $json.output }}\"\n  }\n  ]\n  },\n  \"options\": {}\n  },\n  \"typeVersion\": 3.4\n  }\n  ],\n  \"connections\": {\n  \"Manual Trigger\": {\n  \"main\": [\n  [\n  {\n  \"node\": \"Window Buffer Memory\",\n  \"type\": \"main\",\n  \"index\": 0\n  }\n  ]\n  ]\n  },\n  \"Window Buffer Memory\": {\n  \"main\": [\n  [\n  {\n  \"node\": \"AI Agent\",\n  \"type\": \"main\",\n  \"index\": 0\n  }\n  ]\n  ],\n  \"ai_memory\": [\n  [\n  {\n  \"node\": \"AI Agent\",\n  \"type\": \"ai_memory\",\n  \"index\": 0\n  }\n  ]\n  ]\n  },\n  \"GPT-4o Chat Model\": {\n  \"ai_languageModel\": [\n  [\n  {\n  \"node\": \"AI Agent\",\n  \"type\": \"ai_languageModel\",\n  \"index\": 0\n  }\n  ]\n  ]\n  },\n  \"SerpAPI\": {\n  \"ai_tool\": [\n  [\n  {\n  \"node\": \"AI Agent\",\n  \"type\": \"ai_tool\",\n  \"index\": 0\n  }\n  ]\n  ]\n  },\n  \"AI Agent\": {\n  \"main\": [\n  [\n  {\n  \"node\": \"Set Response\",\n  \"type\": \"main\",\n  \"index\": 0\n  }\n  ]\n  ]\n  }\n  },\n  \"active\": true,\n  \"settings\": {\n  \"executionOrder\": \"v1\"\n  }\n  }\n","role":"system"},{"content":"={{ $json.output }}"}]},"options":{}},"id":"ebe6227a-4f12-44d0-ae8c-516e89e31f9f","name":"OpenAI","type":"@n8n/n8n-nodes-langchain.openAi","position":[2800,1680],"typeVersion":1.8},{"parameters":{"jsCode":"const items = $input.all();\nconst extractedJsons = items.map((item) => {\n  const content = item?.json?.message?.content;\n  const jsonStart = content.indexOf(\"```json\") + 7;\n  const jsonEnd = content.indexOf(\"```\", jsonStart);\n  const jsonContent = content.slice(jsonStart, jsonEnd);\n  try {\n    const parsedJson = JSON.parse(jsonContent);\n    return { extractedJson: parsedJson };\n  } catch (error) {\n    console.log(\"Failed to parse JSON:\", error);\n    return { extractedJson: null };\n  }\n});\nreturn extractedJsons;\n"},"id":"afcb27aa-257f-4c9a-8cb2-d54f23123443","name":"Code","type":"n8n-nodes-base.code","position":[3152,1680],"typeVersion":2},{"parameters":{"content":"🕸️ **Web Crawler (Sub-process #1)**\n\n*Triggered manually.*\n1. **Edit Fields → Extract** – sends a Firecrawl request to scrape docs.n8n.io.\n2. **Wait (30 s) → Get Results** – polls Firecrawl until scraping is finished.\n3. **If / Wait (10 s)** – simple retry logic.\n\n**Output:** Raw markdown/HTML that feeds the *RAG Trainer*.\n\n_No credentials needed here apart from the Firecrawl API key (see separate note)._","height":340,"width":780,"color":6},"id":"8b7a4793-141f-499d-b52d-a397be147d12","name":"Web Crawler Logic","type":"n8n-nodes-base.stickyNote","position":[368,240],"typeVersion":1},{"parameters":{"content":"🧠 **RAG Trainer (Sub-process #2)**\n\n1. **Default Data Loader → Recursive Splitter** – loads the crawled pages and breaks them into ~1-2 k-token chunks.\n2. **Embeddings (OpenAI) → Train Pinecone** – turns chunks into vectors and upserts them into Pinecone.\n\nRun this sub-process once (or on a schedule) whenever you update your docs.\n\n> The resulting Pinecone index will later be queried by the agent to answer user questions with n8n documentation context.","height":320,"width":780,"color":6},"id":"ac612a9e-d148-4b24-a98a-c672de2177e8","name":"RAG Trainer Logic","type":"n8n-nodes-base.stickyNote","position":[368,928],"typeVersion":1},{"parameters":{"content":"🤖 **AI Agent Builder (Sub-process #3)**\n\n1. **Chat Trigger** – waits for a user request (e.g. in GPT-style chat).\n2. **AI Agent (LangChain)** – orchestrates:\n   • **OpenRouter GPT-4o** (LLM)\n   • **SerpAPI** (web-search tool)\n   • **Pinecone Vector Store** (RAG)\n   • **Structured Output Parser** to guarantee valid JSON.\n3. **OpenAI (validator)** – double-checks the JSON and pretty-prints errors.\n4. **Code → Convert to File** – extracts the final template and returns it as a downloadable file.\n\nResult: a fully wired n8n workflow template matching the user’s prompt.","height":520,"width":820,"color":6},"id":"b25bafe7-c25c-4b79-9e1b-0e9610f6f815","name":"Agent Builder Logic","type":"n8n-nodes-base.stickyNote","position":[368,1680],"typeVersion":1},{"parameters":{"content":"⚙️ **Firecrawl API**\nNodes: **HTTP Request – “Extract”** & **“Get Results”**\n1. Create a *Generic Credential (Header Auth)*.\n2. Header name: `Authorization`\n3. Value: `Bearer YOUR_FIRECRAWL_KEY`.\n4. Select the credential in both HTTP Request nodes.","height":340,"width":660,"color":4},"id":"4d5e930d-1d9d-479d-a9fd-c57b8824b57c","name":"Configure Firecrawl","type":"n8n-nodes-base.stickyNote","position":[1168,240],"typeVersion":1},{"parameters":{"content":"⚙️ **Pinecone Vector Store**\nNodes: **“Train Pinecone Vector Store”** & **“Pinecone Vector Store”**\n• Add a *Pinecone API* credential with **Environment**, **API Key**, and **Index Name**.\n• Make sure both nodes point to the same index.","height":140,"width":660,"color":4},"id":"2c058520-9532-4108-a514-9db857250cd0","name":"Configure Pinecone","type":"n8n-nodes-base.stickyNote","position":[1168,928],"typeVersion":1},{"parameters":{"content":"⚙️ **OpenAI / Azure OpenAI**\nNodes: **“Embeddings OpenAI”**, **“Embeddings OpenAI 2”**, **“OpenAI (validator)”**\n1. Create an *OpenAI API* credential (or Azure equivalent).\n2. Select the credential in all three nodes.\n3. Ensure the embedding model (e.g. `text-embedding-3-small`) is available in your account.","width":660,"color":4},"id":"b8b327e6-069f-4dff-a5ce-6fed6e9a117d","name":"Configure OpenAI API","type":"n8n-nodes-base.stickyNote","position":[1168,1088],"typeVersion":1},{"parameters":{"content":"⚙️ **OpenRouter API**\nNode: **“OpenRouter Chat Model”**\n• Create an *OpenRouter API Key* credential and select it here.\n• The example uses model `o4-mini-2025-04-16`; adjust if your plan differs.","height":100,"width":620,"color":4},"id":"42784df1-903f-43d5-92ed-c25cf2df5323","name":"Configure OpenRouter GPT-4o","type":"n8n-nodes-base.stickyNote","position":[1216,1680],"typeVersion":1},{"parameters":{"content":"⚙️ **SerpAPI Key**\nNode: **“SerpAPI”**\n1. Sign up at serpapi.com and copy your key.\n2. Add a *SerpAPI* credential and select it in the node.","height":100,"width":620,"color":4},"id":"debda5ff-2309-410a-a8f6-7e6fd011fdc1","name":"Configure SerpAPI","type":"n8n-nodes-base.stickyNote","position":[1216,1808],"typeVersion":1},{"parameters":{"content":"⚙️ **Pinecone Vector Store**\nNodes: **“Train Pinecone Vector Store”** & **“Pinecone Vector Store”**\n• Add a *Pinecone API* credential with **Environment**, **API Key**, and **Index Name**.\n• Make sure both nodes point to the same index.","height":100,"width":620,"color":4},"id":"f2d27faa-06f4-42bf-882f-3ce35ad6f876","name":"Configure Pinecone1","type":"n8n-nodes-base.stickyNote","position":[1216,1920],"typeVersion":1},{"parameters":{"content":"⚙️ **OpenAI / Azure OpenAI**\nNodes: **“Embeddings OpenAI”**, **“Embeddings OpenAI 2”**, **“OpenAI (validator)”**\n1. Create an *OpenAI API* credential (or Azure equivalent).\n2. Select the credential in all three nodes.\n3. Ensure the embedding model (e.g. `text-embedding-3-small`) is available in your account.","width":620,"color":4},"id":"3b78511a-b49a-46cf-b3ca-6dba4a6d68cf","name":"Configure OpenAI API1","type":"n8n-nodes-base.stickyNote","position":[1216,2048],"typeVersion":1},{"parameters":{"mode":"raw","jsonOutput":"=\n {{ $json.extractedJson }}","options":{}},"id":"a802de97-238c-4f7f-9024-43d3fb14f7a8","name":"Extract JSON","type":"n8n-nodes-base.set","position":[3392,1680],"typeVersion":3.4},{"parameters":{"assignments":{"assignments":[{"id":"6905b43a-c181-4c14-a746-c4d82325cccf","name":"vector database","type":"string","value":"Pinecone"},{"id":"cfe18b2f-051d-492d-bb63-dd91076bce68","name":"chat model","type":"string","value":"Open Router"},{"id":"bb2d75ad-9544-4d48-b9d1-ddc2e5a124c1","name":"embedding","type":"string","value":"text-embedding-3-large"},{"id":"1a763e6b-22df-477f-941b-4933231d636a","name":"web search tool","type":"string","value":"SerpAPI"}]},"options":{}},"id":"d67d0970-0f58-41f4-8d48-077247eb4b0a","name":"Set Preferences","type":"n8n-nodes-base.set","position":[2000,1520],"typeVersion":3.4},{"parameters":{"operation":"toJson","mode":"each","binaryPropertyName":"=","options":{"format":true,"encoding":"utf8","fileName":""}},"id":"392f160f-5ffd-4799-a63d-adc240b7f26a","name":"Convert to JSON File","type":"n8n-nodes-base.convertToFile","position":[3600,1680],"typeVersion":1.1},{"parameters":{"options":{}},"id":"efc08c98-cb77-45f0-b824-de2a22dee2fc","name":"Convert to File","type":"n8n-nodes-base.convertToFile","position":[2000,912],"typeVersion":1.1},{"parameters":{"assignments":{"assignments":[{"id":"60871e95-afba-4ff9-ba56-315ae39cd6f9","name":"URL","type":"string","value":"https://api.firecrawl.dev/v1/crawl/6cd9b912-bf11-498d-8f31-197aaf8efa1c"}]},"options":{}},"id":"9ff243d3-1871-4634-b5a6-dd9a745a7a84","name":"Set URL","type":"n8n-nodes-base.set","position":[2208,384],"typeVersion":3.4},{"parameters":{"options":{}},"id":"03e4cd15-b458-4601-a9d4-c365a27e846e","name":"Recursive Character Text Splitter","type":"@n8n/n8n-nodes-langchain.textSplitterRecursiveCharacterTextSplitter","position":[2336,1200],"typeVersion":1}],"connections":{"If":{"main":[[{"node":"10 Seconds","type":"main","index":0}],[{"node":"Convert to File","type":"main","index":0}]]},"Code":{"main":[[{"node":"Extract JSON","type":"main","index":0}]]},"OpenAI":{"main":[[{"node":"Code","type":"main","index":0}]]},"30 Secs":{"main":[[{"node":"Get Results","type":"main","index":0}]]},"Extract":{"main":[[{"node":"30 Secs","type":"main","index":0}]]},"SerpAPI":{"ai_tool":[[{"node":"AI Agent","type":"ai_tool","index":0}]]},"Set URL":{"main":[[{"node":"Extract","type":"main","index":0}]]},"AI Agent":{"main":[[{"node":"OpenAI","type":"main","index":0}]]},"10 Seconds":{"main":[[{"node":"Get Results","type":"main","index":0}]]},"Get Results":{"main":[[{"node":"If","type":"main","index":0}]]},"Extract JSON":{"main":[[{"node":"Convert to JSON File","type":"main","index":0}]]},"Convert to File":{"main":[[{"node":"Train Pinecone Vector Store","type":"main","index":0}]]},"Set Preferences":{"main":[[{"node":"AI Agent","type":"main","index":0}]]},"Embeddings OpenAI":{"ai_embedding":[[{"node":"Pinecone Vector Store","type":"ai_embedding","index":0}]]},"Embeddings OpenAI2":{"ai_embedding":[[{"node":"Train Pinecone Vector Store","type":"ai_embedding","index":0}]]},"Convert to JSON File":{"main":[[]]},"Default Data Loader1":{"ai_document":[[{"node":"Train Pinecone Vector Store","type":"ai_document","index":0}]]},"OpenRouter Chat Model":{"ai_languageModel":[[{"node":"AI Agent","type":"ai_languageModel","index":0}]]},"Pinecone Vector Store":{"ai_tool":[[{"node":"AI Agent","type":"ai_tool","index":0}]]},"When chat message received":{"main":[[{"node":"AI Agent","type":"main","index":0}]]},"Recursive Character Text Splitter":{"ai_textSplitter":[[{"node":"Default Data Loader1","type":"ai_textSplitter","index":0}]]},"When clicking ‘Test workflow’":{"main":[[{"node":"Set URL","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":null,"meta":{"templateId":"5024"},"pinData":{},"versionId":"2a7ad86d-01c1-4fc5-98b9-7962f10bbe8b","triggerCount":0,"shared":[{"createdAt":"2025-10-26T04:51:45.761Z","updatedAt":"2025-10-26T04:51:45.761Z","role":"workflow:owner","workflowId":"tb9W7jQbZ5MK7LoE","projectId":"u9kYCfFU7pgjjx9U"}],"tags":[]}